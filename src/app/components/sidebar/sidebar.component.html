<!-- Sidebar Container -->
<aside 
  [class.collapsed]="isCollapsed()"
  class="sidebar fixed left-0 top-0 h-screen bg-white dark:bg-gray-900 border-r border-gray-200 dark:border-gray-700 transition-all duration-300 z-50"
  [ngClass]="isCollapsed() ? 'w-0 md:w-20' : 'w-64'"
>
  <!-- Header -->
  <div class="flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700">
    <h1 
      class="text-xl font-bold text-gray-800 dark:text-white transition-opacity duration-300"
      [ngClass]="isCollapsed() ? 'opacity-0 md:opacity-0' : 'opacity-100'"
    >
      TurboVets Admin
    </h1>
    <button 
      (click)="toggleSidebar()"
      class="p-2 rounded-lg hover:bg-gray-100 dark:hover:bg-gray-800 transition-colors md:hidden"
      aria-label="Toggle sidebar"
    >
      <span class="text-2xl">{{ isCollapsed() ? 'â˜°' : 'âœ•' }}</span>
    </button>
  </div>

  <!-- Navigation Items -->
  <nav class="p-4 space-y-2">
    <a
      *ngFor="let item of navItems"
      [routerLink]="item.route"
      routerLinkActive="active"
      (click)="closeSidebar()"
      class="nav-item flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"
    >
      <span class="text-2xl">{{ item.icon }}</span>
      <span 
        class="font-medium transition-opacity duration-300"
        [ngClass]="isCollapsed() ? 'opacity-0 md:opacity-0' : 'opacity-100'"
      >
        {{ item.label }}
      </span>
    </a>
  </nav>

  <!-- Theme Toggle (Bottom) -->
  <div class="absolute bottom-4 left-0 right-0 px-4">
    <button
      (click)="themeService.toggleTheme()"
      class="w-full flex items-center gap-3 px-4 py-3 rounded-lg text-gray-700 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-gray-800 transition-all duration-200"
    >
      <span class="text-2xl">{{ themeService.isDarkMode() ? 'â˜€ï¸' : 'ğŸŒ™' }}</span>
      <span 
        class="font-medium transition-opacity duration-300"
        [ngClass]="isCollapsed() ? 'opacity-0 md:opacity-0' : 'opacity-100'"
      >
        {{ themeService.isDarkMode() ? 'Light Mode' : 'Dark Mode' }}
      </span>
    </button>
  </div>
</aside>

<!-- Mobile Overlay -->
<div 
  *ngIf="!isCollapsed()"
  (click)="toggleSidebar()"
  class="fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden"
></div>
